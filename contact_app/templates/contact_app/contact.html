{# C:\Users\admin\Desktop\resume_proje_django\djangoProject\contact_app\templates\contact_app\contact.html #}
{% extends 'base.html' %} 
{% load static %}

{% block content %}
<section class="relative md:py-24 py-16"> {# استفاده از کلاس‌های Tailwind برای section #}
    <div class="container relative md:mt-24 mt-16">
        <div class="grid md:grid-cols-2 grid-cols-1 items-center gap-[30px]">
            <img src="{% static 'assets/images/contact.svg' %}" alt="">

            <div class="lg:ms-5">
                <div class="bg-white dark:bg-slate-900 rounded-xl shadow dark:shadow-gray-700 p-6">
                    <h3 class="mb-6 text-2xl leading-normal font-medium">Get in touch !</h3>

                    <div class="contact-form-section">
                        {% if messages %}
                            <ul class="messages list-none p-0 m-0"> {# اضافه کردن کلاس‌های Tailwind برای لیست #}
                                {% for message in messages %}
                                    <li class="p-3 my-2 rounded-lg text-white {% if message.tags %}{% if 'success' in message.tags %}bg-green-500{% elif 'error' in message.tags %}bg-red-500{% elif 'warning' in message.tags %}bg-yellow-500 text-gray-800{% else %}bg-blue-500{% endif %}{% endif %}">
                                        {{ message }}
                                    </li>
                                {% endfor %}
                            </ul>
                        {% endif %}

                        <form method="post" action="{% url 'contact_app:contact_submit' %}" id="myForm">
                            {% csrf_token %}

                            <p class="mb-0" id="error-msg"></p>
                            <div id="simple-msg"></div>

                            <div class="grid lg:grid-cols-12 lg:gap-6">
                                <div class="lg:col-span-6 mb-5">
                                    <label for="{{ form.fname.id_for_label }}" class="form-label font-medium">نام شما:</label>
                                    {{ form.fname }} {# <-- از رندر فرم جنگو استفاده کنید #}
                                    {% if form.fname.errors %} {# <-- نمایش خطاهای فیلد #}
                                        {% for error in form.fname.errors %}
                                            <p class="text-red-500 text-xs italic mt-1">{{ error }}</p>
                                        {% endfor %}
                                    {% endif %}
                                </div>

                                <div class="lg:col-span-6 mb-5">
                                    <label for="{{ form.email.id_for_label }}" class="form-label font-medium">ایمیل شما:</label>
                                    {{ form.email }} {# <-- از رندر فرم جنگو استفاده کنید #}
                                    {% if form.email.errors %} {# <-- نمایش خطاهای فیلد #}
                                        {% for error in form.email.errors %}
                                            <p class="text-red-500 text-xs italic mt-1">{{ error }}</p>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="grid grid-cols-1">
                                <div class="mb-5">
                                    <label for="{{ form.sub.id_for_label }}" class="form-label font-medium">موضوع:</label>
                                    {{ form.sub }} {# <-- از رندر فرم جنگو استفاده کنید (name="sub") #}
                                    {% if form.sub.errors %} {# <-- نمایش خطاهای فیلد #}
                                        {% for error in form.sub.errors %}
                                            <p class="text-red-500 text-xs italic mt-1">{{ error }}</p>
                                        {% endfor %}
                                    {% endif %}
                                </div>

                                <div class="mb-5">
                                    <label for="{{ form.body.id_for_label }}" class="form-label font-medium">پیام شما:</label>
                                    {{ form.body }} {# <-- از رندر فرم جنگو استفاده کنید #}
                                    {% if form.body.errors %} {# <-- نمایش خطاهای فیلد #}
                                        {% for error in form.body.errors %}
                                            <p class="text-red-500 text-xs italic mt-1">{{ error }}</p>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            <button type="submit" id="submit" name="send" class="py-2 px-5 inline-block font-normal tracking-wide border align-middle transition duration-500 ease-in-out text-base text-center bg-orange-500 hover:bg-orange-600 border-orange-500 hover:border-orange-600 text-white rounded-xl">ارسال پیام</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}